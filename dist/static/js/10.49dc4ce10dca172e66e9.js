webpackJsonp([10],{IGuy:function(e,t){},KN59:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),i=a.n(l),n=a("BO1k"),c=a.n(n),s=a("Xxa5"),o=a.n(s),r=a("exGp"),d=a.n(r),p=a("mw3O"),m=a.n(p),u=a("3Xzz"),g=a("Tja3"),v=a("P9l9"),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkboxOption-wrap"},[a("div",{staticClass:"checkboxOption-wrap__head"},[a("div",{staticClass:"checkboxOption-wrap__head__title"},[e._v(e._s(e.tagData.name))]),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__head__describe"},[e._v(e._s(e.tagData.des))])]),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body"},[a("div",{staticClass:"checkboxOption-wrap__body__title"},[e._v("标签值设置")]),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body__checkAll border-box"},[a("el-checkbox",{attrs:{indeterminate:e.tagData.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.tagData.checkAll,callback:function(t){e.$set(e.tagData,"checkAll",t)},expression:"tagData.checkAll"}},[e._v("全选")])],1),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body__options border-box"},[a("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.tagData.checkeditems,callback:function(t){e.$set(e.tagData,"checkeditems",t)},expression:"tagData.checkeditems"}},e._l(e.tagData.options,function(t,l){return a("el-checkbox",{key:t.id+l,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1)])])},staticRenderFns:[]};var f=a("VU/8")({name:"checkboxOptionAsync",data:function(){return{tagData:{name:"性别",des:"根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述根据描述",checkeditems:[],isIndeterminate:!1,checkAll:!1,options:[{id:1,name:"男"},{id:2,name:"女"}]}}},methods:{handleCheckAllChange:function(e){var t=this;e?t.tagData.options.forEach(function(e,a){t.tagData.checkeditems.push(e.id)}):t.tagData.checkeditems=[],t.tagData.isIndeterminate=!1},handleCheckedChange:function(e){var t=e.length;this.tagData.checkAll=t===this.tagData.options.length,this.tagData.isIndeterminate=t>0&&t<this.tagData.options.length}},mounted:function(){},components:{}},h,!1,function(e){a("qKUa")},"data-v-0847f93c",null).exports,b=a("M2/U"),C=a("3fED"),k=(a("Mk6G"),a("3E4D")),_=a("Ch4/"),y=a("PI0u"),D={name:"myTagDetail",data:function(){return{showTagDetail:!1,tagShortDetailId:"",fromFlag:"myTag",tagId:"",tagFlag:!1,addFlag:!1,templateCode:"",addTempFlag:!1,searchFlag:!1,postCompute:"",currentKey:null,currentComputeType:"",postTemplateData:{selectedVal:[],template:[]},templateData:[],tag001:{checkeditems:[],isIndeterminate:!1,checkAll:!1,options:[],compute:"in"},tag002:{computeRadio:"in"},tag003:{numRange:["",""]},tag004:{fixedRecentRadio:"1",fixedRecentRangeValue:[],fixedRecentTimeRecent:""},tag005:{timeRecent:"",timeType:"lastday"},tag006:{timeAfter:"",timeType:"afterday"},tag007:{addInputValue:"",addTags:[]},tag008:{searchModel:[],searchOptions:[],addSelectTags:[]},tag009:{allSelectActive:"first",inputSearch:"",allSelectOptions:[],selectedOptions:[]},tag010:{citySelectActive:"first",isIndeterminateCity:!1,checkAllCity:!1,citySelectOptions:[{provinceId:1,check:!1,provinceName:"北京",showCity:!1,children:[{cityId:11,cityName:"北京",check:!1}]},{provinceId:2,check:!1,provinceName:"浙江",showCity:!1,children:[{cityId:21,cityName:"杭州",check:!1},{cityId:22,cityName:"温州",check:!1}]}],checkeditemsCity:[],citySelectedOptions:[]},tag011:{uuid:"",uuidOptions:[0,1,2,3,4,5],isAdd:!0},tag012:{selectOne:"all",selectTwo:"in",selectLabel:"曾经消费门店",selectLabelTip:"注：存在其一即会员至少有一个字段值满足所选条件；所有即会员的所有字段值满足所选条件"},tag013:{checkeditems:[],isIndeterminate:!1,checkAll:!1,options:[]},tag014:{radio:"1",dateRangeValue:[],timeRadio:"1",timeChecked:"1",timeSelect:"1",timeInput:""},tag015:{radio:"1",monthDayRange:[],timeRadio:"1",timeChecked:"1",timeSelect:"1",timeInput:""},tag016:{dateRangeValue:[]},tag017:{radio:"1",dateRangeValue:[],timeRadio:"1",timeChecked:"1",timeSelect:"1",timeInput:""},tag019:{radio:"1",dateRangeValue:[],timeRadio:"1",timeChecked:"1",timeSelect:"1",timeInput:""},tagData:{tagId:"",tagName:"",tagDescribe:"",isActive:0,inputSearch:""},baseUrl:""}},computed:{navpath:function(){var e=this.$route.query.navSign,t="platformTag"==e?{name:"平台标签列表",path:"/platformTagList"}:"manualTag"==e?{name:"手工标签列表",path:"/manualTagList"}:{name:"我的标签列表",path:"/myTagList"};return[{name:"首页",path:window.location.origin+"/report/#/memberSummary",relocation:!0},{name:"会员管理",path:""},{name:"会员标签",path:""},t,{name:"标签详情",path:""}]}},beforeMount:function(){var e=window.location.origin;"-1"!=e.indexOf("localhost")?this.baseUrl="http://gicdev.demogic.com":this.baseUrl=e},methods:{resetData:function(){this.templateData.forEach(function(e,t){e.checkeditems&&(e.checkeditems=[]),e.isIndeterminate&&(e.isIndeterminate=!1),e.checkAll&&(e.checkAll=!1),e.numRange&&(e.numRange=["",""]),e.fixedRecentRadio&&(e.fixedRecentRadio="1"),e.fixedRecentRangeValue&&(e.fixedRecentRangeValue=[]),e.fixedRecentRangeValue&&(e.fixedRecentTimeRecent=""),"tag007"==e.templateCode&&(e.addTags=[]),"tag008"==e.templateCode&&(e.addSelectTags=[]),"tag010"==e.templateCode&&(e.citySelectActive="first",e.isIndeterminateCity=!1,e.checkAllCity=!1,e.citySelectOptions=[],e.citySelectedOptions=[]),"tag019"==e.templateCode&&(e.dateRangeValue=[])})},changeRoute:function(e){this.$router.push(e)},addMytag:function(){var e=this,t={tagId:e.tagId};Object(v.a)("/enterpriseMemberTag/addByTagId",t).then(function(t){var a=t.data;if(1==a.errorCode)return k.a.showmsg("添加成功","success"),void(e.addFlag=!0);_.a.errorMsg(a)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},addTemporary:function(){this.addTemporaryPost()},addTemporaryPost:function(){var e=this;return d()(o.a.mark(function t(){var a,l,i,n,s,r,d,p,m,u,g,v,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e).postTemplateData.selectedVal=[],l=!0,i=[],n={val:[{type:"data",data:{key:a.currentKey,compute:"",value:"",dealKey:""}}],time:[{type:"",value:""}]},"tag001"!==(s=a.templateData[0].templateCode)||a.templateData[0].checkeditems.length){t.next=9;break}return a.$message.error({message:"请选择值"}),t.abrupt("return",!1);case 9:if("tag001"===s&&1===a.templateData.length&&(n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].checkeditems.join(" "),a.templateData[0].options.forEach(function(e,t){-1!=a.templateData[0].checkeditems.indexOf(e.key)&&a.postTemplateData.selectedVal.push(e.value)})),"tag003"!==s||""!==a.templateData[0].numRange[0]&&""!==a.templateData[0].numRange[1]){t.next=13;break}return a.$message.error({message:"请填写值"}),t.abrupt("return",!1);case 13:if(!("tag003"===s&&a.templateData[0].numRange[0]>a.templateData[0].numRange[1])){t.next=16;break}return a.$message.error({message:"起始值必须小于等于最大值"}),t.abrupt("return",!1);case 16:if("tag003"===s&&1===a.templateData.length&&(n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].numRange.join(","),a.postTemplateData.selectedVal.push(a.templateData[0].numRange[0]+" <= "+a.tagData.tagName+" <= "+a.templateData[0].numRange[1])),"tag007"!==s||a.templateData[0].addTags.length){t.next=20;break}return a.$message.error({message:"请添加值"}),t.abrupt("return",!1);case 20:if("tag007"===s&&1===a.templateData.length&&(n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].addTags.map(function(e){return e.value}).join(" "),a.postTemplateData.selectedVal.push(a.templateData[0].addTags.map(function(e){return e.value}).join(","))),"tag009"!==s||a.templateData[0].selectedOptions.length){t.next=24;break}return a.$message.error({message:"请添加值"}),t.abrupt("return",!1);case 24:if("tag009"===s&&1===a.templateData.length&&(n.val[0].data.value=a.templateData[0].selectedOptions.map(function(e){return e.key}).join(" "),a.postTemplateData.selectedVal.push(a.templateData[0].selectedOptions.map(function(e){return e.value}).join(","))),"tag010"!==s||a.templateData[0].citySelectedOptions.length){t.next=28;break}return a.$message.error({message:"请添加值"}),t.abrupt("return",!1);case 28:if("tag010"===s&&1===a.templateData.length&&(n.val[0].data.value=a.templateData[0].citySelectedOptions.map(function(e){return e.cityId}).join(" "),a.postTemplateData.selectedVal.push(a.templateData[0].citySelectedOptions.map(function(e){return e.selected}).join(","))),"tag013"!==s||a.templateData[0].checkeditems.length){t.next=32;break}return a.$message.error({message:"请选择值"}),t.abrupt("return",!1);case 32:if(r=[],"tag013"===s&&1===a.templateData.length&&(n.val[0].data.compute=a.templateData[0].postCompute,a.templateData[0].options.forEach(function(e,t){-1!=a.templateData[0].checkeditems.indexOf(e.key)&&(a.postTemplateData.selectedVal.push(e.value),r.push(e.key))}),a.templateData[0].checkeditems=r,n.val[0].data.value=r.join(" "),r.length||(l=!1)),"tag016"!==s||a.templateData[0].dateRangeValue.length){t.next=37;break}return a.$message.error({message:"请选择时间"}),t.abrupt("return",!1);case 37:if("tag016"===s&&1===a.templateData.length&&(2==a.currentComputeType?n.val[0].data.compute="between":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].dateRangeValue.join(","),a.postTemplateData.selectedVal.push(a.templateData[0].dateRangeValue[0]+" 至 "+a.templateData[0].dateRangeValue[1])),"tag014"!==s&&"tag017"!==s&&"tag019"!==s||1!=a.templateData[0].radio||a.templateData[0].dateRangeValue.length){t.next=41;break}return a.$message.error({message:"请选择值"}),t.abrupt("return",!1);case 41:if("tag014"!==s&&"tag017"!==s&&"tag019"!==s||2!=a.templateData[0].radio||2!=a.templateData[0].timeChecked||a.templateData[0].timeInput){t.next=44;break}return a.$message.error({message:"请填写值"}),t.abrupt("return",!1);case 44:if("tag014"!==s&&"tag017"!==s&&"tag019"!==s||1!==a.templateData.length||1!=a.templateData[0].radio||(2==a.currentComputeType?n.val[0].data.compute="between":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].dateRangeValue.join(","),a.templateData[0].timeInput="","tag019"===s&&(n.val[0].data.value=a.templateData[0].dateRangeValue.join(",").replace(/-/g,"").replace(/:/g,"").replace(/\s+/g,"")),a.postTemplateData.selectedVal.push(a.templateData[0].dateRangeValue[0].split(" ")[0]+"至"+a.templateData[0].dateRangeValue[1].split(" ")[0])),"tag014"!==s&&"tag017"!==s&&"tag019"!==s||1!==a.templateData.length||2!=a.templateData[0].radio||(1==a.templateData[0].timeRadio&&(1==a.templateData[0].timeChecked&&(2==a.currentComputeType?n.val[0].data.compute="today":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value="1",a.postTemplateData.selectedVal.push("当天"),a.templateData[0].timeInput=""),2==a.templateData[0].timeChecked&&(1==a.templateData[0].timeSelect?(2==a.currentComputeType?n.val[0].data.compute="lastday":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("最近 "+a.templateData[0].timeInput+" 天")):(2==a.currentComputeType?n.val[0].data.compute="afterday":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("之后 "+a.templateData[0].timeInput+" 天")))),2==a.templateData[0].timeRadio&&(1==a.templateData[0].timeChecked&&(2==a.currentComputeType?n.val[0].data.compute="currentMonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value="1",a.postTemplateData.selectedVal.push("当月"),a.templateData[0].timeInput=""),2==a.templateData[0].timeChecked&&(1==a.templateData[0].timeSelect?(2==a.currentComputeType?n.val[0].data.compute="lastmonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("最近 "+a.templateData[0].timeInput+" 月")):(2==a.currentComputeType?n.val[0].data.compute="aftermonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("之后 "+a.templateData[0].timeInput+" 月")))),3==a.templateData[0].timeRadio&&(1==a.templateData[0].timeChecked&&(2==a.currentComputeType?n.val[0].data.compute="currentYear":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value="1",a.postTemplateData.selectedVal.push("当年"),a.templateData[0].timeInput=""),2==a.templateData[0].timeChecked&&(1==a.templateData[0].timeSelect?(2==a.currentComputeType?n.val[0].data.compute="lastyear":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("最近 "+a.templateData[0].timeInput+" 年")):(2==a.currentComputeType?n.val[0].data.compute="afteryear":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("之后 "+a.templateData[0].timeInput+" 年"))))),"tag015"!==s||1!=a.templateData[0].radio||a.templateData[0].monthDayRange.length){t.next=49;break}return a.$message.error({message:"请选择值"}),t.abrupt("return",!1);case 49:if("tag015"!==s||2!=a.templateData[0].radio||2!=a.templateData[0].timeChecked||a.templateData[0].timeInput){t.next=52;break}return a.$message.error({message:"请填写值"}),t.abrupt("return",!1);case 52:if("tag015"===s&&1===a.templateData.length&&1==a.templateData[0].radio&&(2==a.currentComputeType?n.val[0].data.compute="between":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=a.templateData[0].monthDayRange.join(","),a.postTemplateData.selectedVal.push(a.templateData[0].monthDayRange[0]+" 至 "+a.templateData[0].monthDayRange[1])),"tag015"===s&&1===a.templateData.length&&2==a.templateData[0].radio&&(1==a.templateData[0].timeRadio&&(1==a.templateData[0].timeChecked&&(2==a.currentComputeType?n.val[0].data.compute="today":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value="1",a.postTemplateData.selectedVal.push("当天"),a.templateData[0].timeInput=""),2==a.templateData[0].timeChecked&&(1==a.templateData[0].timeSelect?(2==a.currentComputeType?n.val[0].data.compute="lastday":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("最近 "+a.templateData[0].timeInput+" 天")):(2==a.currentComputeType?n.val[0].data.compute="afterday":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("之后 "+a.templateData[0].timeInput+" 天")))),2==a.templateData[0].timeRadio&&(1==a.templateData[0].timeChecked&&(2==a.currentComputeType?n.val[0].data.compute="currentMonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value="1",a.postTemplateData.selectedVal.push("当月"),a.templateData[0].timeInput=""),2==a.templateData[0].timeChecked&&(1==a.templateData[0].timeSelect?(2==a.currentComputeType?n.val[0].data.compute="lastmonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("最近 "+a.templateData[0].timeInput+" 月")):(2==a.currentComputeType?n.val[0].data.compute="aftermonth":n.val[0].data.compute=a.templateData[0].postCompute,n.val[0].data.value=String(a.templateData[0].timeInput),a.postTemplateData.selectedVal.push("之后 "+a.templateData[0].timeInput+" 月"))))),2!=a.templateData.length){t.next=81;break}d=o.a.mark(function t(i){var c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("tag001"===i.templateCode&&(i.checkeditems.length||(l=!1),n.val[0].data.value=i.checkeditems.join(" "),i.options.forEach(function(e,t){-1!=i.checkeditems.indexOf(e.key)&&a.postTemplateData.selectedVal.push(e.value)})),"tag002"===i.templateCode&&(n.val[0].data.compute=i.computeRadio,"in"==i.computeRadio?a.postTemplateData.selectedVal.unshift("属于"):a.postTemplateData.selectedVal.unshift("不属于")),"tag003"===i.templateCode&&(""!==i.numRange[0]&&""!==i.numRange[1]||(l=!1),i.numRange[0]>i.numRange[1]&&(l=!1),n.val[0].data.compute=i.postCompute,n.val[0].data.value=i.numRange.join(","),a.postTemplateData.selectedVal.push(i.numRange[0]+" <= "+a.tagData.tagName+" <= "+i.numRange[1])),"tag004"===i.templateCode&&(1!=i.fixedRecentRadio||i.fixedRecentRangeValue.length||(l=!1),2!=i.fixedRecentRadio||i.fixedRecentTimeRecent||(l=!1),1==i.fixedRecentRadio&&(n.time[0].type="between",n.time[0].value=i.fixedRecentRangeValue.join(","),a.postTemplateData.selectedVal.push("时间范围为"+i.fixedRecentRangeValue[0]+" 至 "+i.fixedRecentRangeValue[1])),2==i.fixedRecentRadio&&(n.time[0].type="lastday",n.time[0].value=String(i.fixedRecentTimeRecent),a.postTemplateData.selectedVal.push("时间范围为最近 "+i.fixedRecentTimeRecent+" 天"))),"tag005"===i.templateCode&&(""===i.timeRecent&&(l=!1),n.time[0].type=i.timeType,n.time[0].value=String(i.timeRecent),a.postTemplateData.selectedVal.push("时间范围为最近 "+i.timeRecent+" 天")),"tag006"===i.templateCode&&(""===i.timeAfter&&(l=!1),n.time[0].type=i.timeType,n.time[0].value=String(i.timeAfter),a.postTemplateData.selectedVal.push("时间范围为之后 "+i.timeAfter+" 天")),"tag008"===i.templateCode&&(i.addSelectTags.length||(l=!1),n.val[0].data.value=i.addSelectTags.map(function(e){return e.key}).join(" "),a.postTemplateData.selectedVal.push(i.addSelectTags.map(function(e){return e.value}).join(","))),"tag010"===i.templateCode&&(console.log(i.citySelectedOptions),i.citySelectedOptions.length||(l=!1),n.val[0].data.value=i.citySelectedOptions.map(function(e){return e.cityId}).join(" "),a.postTemplateData.selectedVal.push(i.citySelectedOptions.map(function(e){return e.selected}).join(","))),"tag011"!==i.templateCode){e.next=18;break}return e.next=11,a.$refs.storeNew[0].isStoreSave();case 11:return l=e.sent,e.next=14,a.$refs.storeNew[0].getStoreConfig();case 14:c=e.sent,a.postTemplateData.selectedVal.push(c.name+" "+c.list.map(function(e){return e.name}).join(",")),n.val[0].data.value=i.uuid,n.val[0].data.dealKey="storeWidget";case 18:"tag012"===i.templateCode&&("all"==i.selectOne&&"in"==i.selectTwo&&(n.val[0].data.compute="allIn",a.postTemplateData.selectedVal.unshift("所有属于")),"all"==i.selectOne&&"notin"==i.selectTwo&&(n.val[0].data.compute="notIn",a.postTemplateData.selectedVal.unshift("所有不属于")),"in"==i.selectOne&&"in"==i.selectTwo&&(n.val[0].data.compute="in",a.postTemplateData.selectedVal.unshift("存在其一属于")),"in"==i.selectOne&&"notin"==i.selectTwo&&(n.val[0].data.compute="notAllIn",a.postTemplateData.selectedVal.unshift("存在其一不属于"))),"tag013"===i.templateCode&&(i.checkeditems.length||(l=!1),n.val[0].data.value=i.checkeditems.join(" "),i.options.forEach(function(e,t){-1!=i.checkeditems.indexOf(e.key)&&a.postTemplateData.selectedVal.push(e.value)}),a.postTemplateData.selectedVal.push(a.postTemplateData.selectedVal.join(",")));case 20:case"end":return e.stop()}},t,e)}),p=!0,m=!1,u=void 0,t.prev=59,g=c()(a.templateData);case 61:if(p=(v=g.next()).done){t.next=67;break}return h=v.value,t.delegateYield(d(h),"t0",64);case 64:p=!0,t.next=61;break;case 67:t.next=73;break;case 69:t.prev=69,t.t1=t.catch(59),m=!0,u=t.t1;case 73:t.prev=73,t.prev=74,!p&&g.return&&g.return();case 76:if(t.prev=76,!m){t.next=79;break}throw u;case 79:return t.finish(76);case 80:return t.finish(73);case 81:if(l){t.next=84;break}return a.$message.error({message:"请完善标签值"}),t.abrupt("return",!1);case 84:a.templateData.forEach(function(e,t){"tag011"==e.templateCode&&(e.isAdd=!1)}),a.postTemplateData.template=a.templateData,i=a.postTemplateData,a.addToTemp(n,i);case 88:case"end":return t.stop()}},t,e,[[59,69,73,81],[74,,76,80]])}))()},addToTemp:function(e,t){var a=this,l={tagId:a.tagShortId,tagValue:i()(e),tagParams:i()(t)};Object(v.b)("/member-tag-value/add.json",l).then(function(e){var t=e.data;if(1==t.errorCode)return k.a.showmsg("添加成功","success"),a.addTempFlag=!0,void a.updateTemp();_.a.errorMsg(t)}).catch(function(e){a.$message.error({duration:1e3,message:e.message})})},handleCheckAllChange:function(e,t){e?(t.checkeditems=[],t.options.forEach(function(e,a){t.checkeditems.push(e.key)})):t.checkeditems=[],t.isIndeterminate=!1},handleCheckedChange:function(e,t){var a=e.length,l=JSON.parse(i()(e));a>=t.options.length&&(t.checkeditems=[],t.checkeditems=t.options.map(function(e){if(l.includes(e.key))return e.key}),a=t.checkeditems.length),t.checkAll=a===t.options.length,t.isIndeterminate=a>0&&a<t.options.length},blurFrom:function(e,t){var a=Number(e.target.value.replace(/[^.\d]/g,""))?Number(e.target.value.replace(/[^.\d]/g,"")):"";a&&!/^[0-9]+$/.test(a)&&(a=Number(a).toFixed(2)),t.numRange[0]=a,this.$forceUpdate()},blurTo:function(e,t){var a=Number(e.target.value.replace(/[^.\d]/g,""))?Number(e.target.value.replace(/[^.\d]/g,"")):"";a&&!/^[0-9]+$/.test(a)&&(a=Number(a).toFixed(2)),t.numRange[1]=a,this.$forceUpdate()},toEditInput:function(e,t,a){var l=void 0;(l=parseInt(String(e.target.value).replace(/[^\d]/g,""))?parseInt(String(e.target.value).replace(/[^\d]/g,"")):1)<=0&&(l=1),l>365&&(l=365),a[t]=l},timeRadioChange:function(e,t){t.timeInput=""},currentDayChange:function(e,t){e&&(t.timeInput="")},toEditDateInput:function(e,t,a){var l=void 0;(l=parseInt(String(e.target.value).replace(/[^\d]/g,""))?parseInt(String(e.target.value).replace(/[^\d]/g,"")):1)<=0&&(l=1),l>365&&1==t&&(l=365),l>12&&2==t&&(l=12),l>3&&3==t&&(l=2),a.timeInput=l},addInputVal:function(e){if(!e.addInputValue.trim())return this.$message.error({duration:1e3,message:"请输入值"}),!1;var t=null;if(e.addTags.length&&(t=e.addTags.map(function(e){return e.value})),t&&-1!==t.indexOf(e.addInputValue))return this.$message.error({duration:1e3,message:"输入值已存在"}),!1;e.addTags.push({value:e.addInputValue}),e.addInputValue=""},delInputVal:function(e,t){t.addTags.splice(e,1)},remoteMethod:Object(y.a)(function(e){this.getClerk(e)},500),remoteMethodFocus:function(e,t,a){this.remoteParent=t,this.pindex=a},changeRemoteMethod:function(e,t){},getClerk:function(e,t){var a=this,l={name:e,requestProject:"member-tag"};a.axios.post(a.baseUrl+"/api-plug/search-clerk",m.a.stringify(l)).then(function(e){var t=e.data;if(0==t.errorCode)return a.remoteParent.searchOptions=t.result,void a.$forceUpdate();_.a.errorMsg(t)}).catch(function(e){a.$message.error({duration:1e3,message:e.message})})},addSearchSelectVal:function(e){if(!e.searchModel.length)return this.$message.error({duration:1e3,message:"请选择值"}),!1;var t=null;e.addSelectTags.length&&(t=e.addSelectTags.map(function(e){return e.value})),e.searchOptions.forEach(function(a,l){if(t&&-1!=t.indexOf(a.value))return!1;-1!=e.searchModel.indexOf(a.key)&&e.addSelectTags.push(a)}),e.searchModel=[],e.searchOptions=[]},delSearchSelectVal:function(e,t){t.addSelectTags.splice(e,1)},allSelectChange:function(e,t,a,l){e?l.selectedOptions.push(a):l.selectedOptions.length&&l.selectedOptions.forEach(function(e,t){e.id==a.id&&l.selectedOptions.splice(t,1)})},delallSelectVal:function(e,t,a){a.selectedOptions.splice(e,1),a.allSelectOptions.forEach(function(e,a){e.id==t.id&&(e.check=!1)})},toSearchInput:Object(y.a)(function(e,t){},500),getSearchSelectOptions:function(e){},cityCheckAllChange:function(e,t){e?(t.checkeditemsCity=[],t.citySelectedOptions=[],t.citySelectOptions.forEach(function(e,a){e.check=!0,t.checkeditemsCity.push(e.provinceId),e.children.forEach(function(a,l){a.check=!0,a.selected=a.cityName+"-"+e.provinceName,a.pId=e.provinceId,t.citySelectedOptions.push(a)})})):(t.checkeditemsCity=[],t.citySelectedOptions=[],t.citySelectOptions.forEach(function(e,t){e.check=!1,e.children.forEach(function(e,t){e.check=!1})})),t.isIndeterminateCity=!1},citySelectChange:function(e,t){var a=e.length;t.checkAllCity=a===t.citySelectOptions.length,t.isIndeterminateCity=a>0&&a<t.citySelectOptions.length,t.citySelectedOptions=[],t.citySelectOptions.forEach(function(a,l){-1!=e.indexOf(a.provinceId)?(a.check=!0,a.children.forEach(function(e,l){e.check=!0,e.selected=e.cityName+"-"+a.provinceName,e.pId=a.provinceId,t.citySelectedOptions.push(e)})):(a.check=!1,a.children.forEach(function(e,t){e.check=!1}))})},toggleCity:function(e,t,a){var l=this;t.showCity=!0!==t.showCity,a.citySelectOptions.forEach(function(t,a){t.provinceId!=e&&(t.showCity=!1)}),document.addEventListener("mousedown",function(e){l.hideCity(e,a)},!1)},toggleClickCity:function(e,t,a){e.check=!e.check,t.children.forEach(function(e,l){!e.check&&t.check&&(t.check=!1,a.checkeditemsCity.splice(a.checkeditemsCity.indexOf(t.provinceId),1),a.checkAllCity=!1,a.isIndeterminateCity=!!a.checkeditemsCity.length)}),-1==t.children.map(function(e){return e.check}).indexOf(!1)?(t.check=!0,a.checkeditemsCity.push(t.provinceId)):-1!=a.checkeditemsCity.indexOf(t.provinceId)&&a.checkeditemsCity.splice(a.checkeditemsCity.indexOf(t.provinceId),1);var l=a.checkeditemsCity.length;a.checkAllCity=l===a.citySelectOptions.length,a.isIndeterminateCity=l>0&&l<a.citySelectOptions.length,a.citySelectedOptions=[],a.citySelectOptions.forEach(function(e,t){e.children.forEach(function(t,l){t.check&&(t.selected=t.cityName+"-"+e.provinceName,t.pId=e.provinceId,a.citySelectedOptions.push(t))})}),this.$forceUpdate()},delcitySelectVal:function(e,t,a){a.citySelectedOptions.splice(e,1),a.citySelectOptions.forEach(function(e,a){t.pId==e.provinceId&&(e.check=!1),e.children.forEach(function(e,a){e.cityId==t.cityId&&(e.check=!1)})}),-1!=a.checkeditemsCity.indexOf(t.pId)&&a.checkeditemsCity.splice(a.checkeditemsCity.indexOf(t.pId),1);var l=a.checkeditemsCity.length;a.checkAllCity=l===a.citySelectOptions.length,a.isIndeterminateCity=l>0&&l<a.citySelectOptions.length},getCityList:function(e,t){t.children=[];var a=!1;t.check&&(a=!0),t.children.push({id:11,name:"杭州",check:a}),this.$forceUpdate()},hideCity:function(e,t){-1==e.target.className.indexOf("city-name")&&t.citySelectOptions.forEach(function(e,t){e.showCity=!1})},getcityData:function(){var e=this;e.axios.post(e.baseUrl+"/api-plug/dict-district-tree",m.a.stringify({requestProject:"member-tag"})).then(function(t){var a=t.data;if(0==a.errorCode)return a.result.forEach(function(e,t){e.check=!1,e.showCity=!1,e.children.forEach(function(e,t){e.check=!1})}),void(e.tag010.citySelectOptions=a.result);_.a.errorMsg(a)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},checkTagTemplate:function(e){var t=this;t.templateData=[],t.postCompute=null;var a=JSON.parse(e);if(a){var l=a.val[0],i=a.time;if(t.currentComputeType=parseInt(l.compute.computeType),0===parseInt(l.compute.computeType)&&l.compute.computeWidgetId&&t.getTemplateCodeById(l.compute.computeWidgetId),1===parseInt(l.compute.computeType)&&(t.postCompute=l.compute.compute),l.valWidgetId&&setTimeout(function(){t.getTemplateCodeById(l.valWidgetId)},50),i.length){if(1===parseInt(l.compute.computeType))return void setTimeout(function(){i.forEach(function(e,a){e.timeWidgetId&&t.getTemplateCodeById(e.timeWidgetId)})},60);i.forEach(function(e,a){e.timeWidgetId&&t.getTemplateCodeById(e.timeWidgetId)})}}},getTemplateCodeById:function(e){var t=this,a={widgetId:e};Object(v.a)("/memberTag/findWidget",a).then(function(e){var a=e.data;if(1==a.errorCode){for(var l in a.result)t[a.result.templateCode][l]=a.result[l];return"tag010"===a.result.templateCode&&t.getcityData(),t.postCompute&&(t[a.result.templateCode].postCompute=t.postCompute),0===parseInt(a.result.sourceFlag)&&(a.result.widgetValues=JSON.parse(a.result.widgetValues),t[a.result.templateCode].options=a.result.widgetValues),1===parseInt(a.result.sourceFlag)?(a.result.widgetParam=JSON.parse(a.result.widgetParam),t.getAsyncList(a.result.widgetParam[0].value,t[a.result.templateCode]),"tag009"!==a.result.templateCode&&"tag010"!==a.result.templateCode||(t.searchFlag=!0),!1):(t.templateData.push(t[a.result.templateCode]),t.getExistData(t.tagData.tagId),void("tag009"!==a.result.templateCode&&"tag010"!==a.result.templateCode||(t.searchFlag=!0)))}_.a.errorMsg(a)}).catch(function(e){t.$message.error({duration:1e3,message:e.message})})},isContained:function(e,t){if(!(e instanceof Array&&t instanceof Array))return!1;if(e.length<t.length)return!1;if(!t.length)return!1;for(var a=e.toString(),l=0,i=t.length;l<i;l++)if(-1==a.indexOf(t[l]))return!1;return!0},getAsyncList:function(e,t){var a=this,l={key:1==a.tagData.tagType?a.tagData.tagId:a.currentKey,requestProject:"member-tag"};a.axios.post(a.baseUrl+e,m.a.stringify(l)).then(function(e){var l=e.data;if(1!=a.tagData.tagType&&"tag"!=a.currentKey){if(0==l.errorCode)return t.options=l.result,a.templateData.push(t),void a.getExistData(a.tagData.tagId,t.options)}else if(1==l.errorCode)return t.options=l.result,a.templateData.push(t),void a.getExistData(a.tagData.tagId,t.options);a.$message.error({duration:1e3,message:l.message})}).catch(function(e){a.$message.error({duration:1e3,message:e.message})})},getExistData:function(e,t){var a=this,l={tagId:e};Object(v.a)("/member-tag-value/findOne.json",l).then(function(e){var l=e.data;if(1==l.errorCode){if(!l.result||"[]"==l.result.tagParams)return a.addTempFlag=!1,!1;a.addTempFlag=!0;var i=JSON.parse(l.result.tagParams).template;return t&&i.forEach(function(e,l){if("tag013"==e.templateCode){e.options=t;var i=t.map(function(e){return e.key}),n=!0;t.forEach(function(t,a){-1!=e.checkeditems.indexOf(t.key)&&(n=!1)});var c=e.checkeditems.length;if(a.isContained(e.checkeditems,i))return e.checkAll=!0,e.isIndeterminate=!1,!1;if(n&&t.length<c)return e.checkAll=!1,e.isIndeterminate=!1,!1;if(!n&&t.length>=c)return e.checkAll=!1,e.isIndeterminate=!0,!1;if(n&&t.length>=c)return e.checkAll=!1,e.isIndeterminate=!1,!1}}),void(a.templateData=i)}_.a.errorMsg(l)}).catch(function(e){a.$message.error({duration:1e3,message:e.message})})},getTagData:function(e){var t=this;t.searchFlag=!1;var a={tagId:e};Object(v.a)("/memberTag/getTagById",a).then(function(e){var a=e.data;if(1!=a.errorCode)_.a.errorMsg(a);else{t.tagData.tagId=a.result.tagId,t.tagData.tagName=a.result.tagName,t.tagData.tagDescribe=a.result.tagDescribe,t.tagData.isActive=a.result.isActive,t.tagData.tagType=a.result.tagType,t.currentKey=a.result.columnKey;var l=a.result.template;l&&t.checkTagTemplate(l.templateContent)}}).catch(function(e){t.$message.error({duration:1e3,message:e.message})})},handleShowTag:function(){that.showTagDetail=!0},handleHideTag:function(e){that.showTagDetail=!1},showShortDetail:function(e){this.showTagDetail=!0,this.tagShortDetailId=e},updateTemp:function(){this.$refs.tagTemp.getTagList(),this.$refs.tagTemp.showTagList(),this.updataTagDetail()},updataTagDetail:function(){this.getTagData(this.tagId)}},watch:{$route:{handler:function(e,t){window.location.reload()},deep:!0}},updated:function(){},mounted:function(){this.tagFlag=-1==this.$route.fullPath.indexOf("notMyTag"),this.$route.query.tagId&&(this.tagId=this.$route.query.tagId,this.tagShortId=this.$route.query.tagId,this.getTagData(this.tagId),document.getElementById("app").style.zIndex=1),this.addFlag=!!this.$route.query.addFlag},components:{navCrumb:u.a,checkboxOption:g.a,checkboxOptionAsync:f,tagShortDetail:C.a,tagTemporary:b.a},beforeDestroy:function(){document.removeEventListener("mousedown",function(){}),document.getElementById("app").style.zIndex="auto"},destroyed:function(){document.removeEventListener("mousedown",function(){}),document.getElementById("app").style.zIndex="auto"}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myTagDetail-wrap common-wrap"},[a("nav-crumb",{attrs:{navpath:e.navpath}}),e._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"right-box"},[a("div",{staticClass:"checkboxOption-wrap"},[a("div",{staticClass:"checkboxOption-wrap__head"},[a("div",{staticClass:"checkboxOption-wrap__head__title"},[e._v("\n            "+e._s(e.tagData.tagName)+"\n            "),a("span",{staticClass:"realtime-span border-box"},[e._v(e._s(1==e.tagData.isActive?"实时":"非实时"))])]),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__head__describe"},[e._v(e._s(e.tagData.tagDescribe))])]),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body"},[a("div",{staticClass:"checkboxOption-wrap__body__title"},[e._v("标签值设置")]),e._v(" "),e._l(e.templateData,function(t,l){return a("div",{key:l},["tag001"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("div",{staticClass:"checkboxOption-wrap__body__checkAll border-box"},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(a){e.handleCheckAllChange(a,t)}},model:{value:t.checkAll,callback:function(a){e.$set(t,"checkAll",a)},expression:"parent.checkAll"}},[e._v("全选")])],1),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body__options border-box"},[a("el-checkbox-group",{on:{change:function(a){e.handleCheckedChange(a,t)}},model:{value:t.checkeditems,callback:function(a){e.$set(t,"checkeditems",a)},expression:"parent.checkeditems"}},e._l(t.options,function(t,l){return a("el-checkbox",{key:t.key+l,attrs:{label:t.key}},[e._v(e._s(t.value))])}))],1)])]:e._e(),e._v(" "),"tag003"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-input",{staticClass:"select-wrap-input",staticStyle:{width:"100px","margin-right":"0"},attrs:{placeholder:"请输入数字"},on:{blur:function(a){e.blurFrom(a,t)}},model:{value:t.numRange[0],callback:function(a){e.$set(t.numRange,0,a)},expression:"parent.numRange[0]"}}),e._v(" "),a("label",[e._v(" - ")]),e._v(" "),a("el-input",{staticClass:"select-wrap-input",staticStyle:{width:"100px","margin-right":"0"},attrs:{placeholder:"请输入数字"},on:{blur:function(a){e.blurTo(a,t)}},model:{value:t.numRange[1],callback:function(a){e.$set(t.numRange,1,a)},expression:"parent.numRange[1]"}})],1)]:e._e(),e._v(" "),"tag014"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("固定时段")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("相对时段")]),e._v(" "),1==t.radio?a("div",{staticClass:"m-t-18 w-438 p-20 border-box bg-f3f6f9"},[a("el-date-picker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyyMMdd","value-format":"yyyyMMdd","default-time":["000000","235959"]},model:{value:t.dateRangeValue,callback:function(a){e.$set(t,"dateRangeValue",a)},expression:"parent.dateRangeValue"}})],1):e._e(),e._v(" "),1!=t.radio?a("div",{staticClass:"relative-range m-t-18 border-box"},[a("div",[a("div",[a("label",{staticClass:"inline-block w-98 label-unit"},[e._v("时间精度")]),e._v(" "),a("el-radio-group",{on:{change:function(a){e.timeRadioChange(a,t)}},model:{value:t.timeRadio,callback:function(a){e.$set(t,"timeRadio",a)},expression:"parent.timeRadio"}},[a("el-radio",{attrs:{label:"1"}},[e._v("天")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("月")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("年")])],1)],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(a){e.currentDayChange(a,t)}},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(" 当"+e._s(1==t.timeRadio?"天":2==t.timeRadio?"月":"年"))])],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(e._s(""))]),e._v(" "),a("el-select",{staticClass:"w-86 m-l-8",attrs:{placeholder:"请选择"},model:{value:t.timeSelect,callback:function(a){e.$set(t,"timeSelect",a)},expression:"parent.timeSelect"}},[a("el-option",{attrs:{label:"最近",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"之后",value:"2"}})],1),e._v(" "),a("el-input",{staticClass:"w-90",attrs:{placeholder:"请输入",disabled:1==t.timeChecked},on:{blur:function(a){return e.toEditDateInput(a,t.timeRadio,t)}},model:{value:t.timeInput,callback:function(a){e.$set(t,"timeInput",a)},expression:"parent.timeInput"}}),e._v(" "),1==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("天")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大365")])]:e._e(),e._v(" "),2==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("月")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大12")])]:e._e(),e._v(" "),3==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("年")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大2")])]:e._e()],2)])]):e._e()],1)]:e._e(),e._v(" "),"tag005"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("label",{staticClass:"inline-block middle label-unit"},[e._v("最近")]),a("el-input",{staticClass:"w-90 m-r-20 m-l-20",attrs:{placeholder:"请输入"},on:{blur:function(a){return e.toEditInput(a,"timeRecent",t)}},model:{value:t.timeRecent,callback:function(a){e.$set(t,"timeRecent",a)},expression:"parent.timeRecent"}}),a("label",{staticClass:"inline-block middle label-unit"},[e._v("天")])],1)]:e._e(),e._v(" "),"tag006"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("label",{staticClass:"inline-block middle label-unit"},[e._v("之后")]),a("el-input",{staticClass:"w-90 m-r-20 m-l-20",attrs:{placeholder:"请输入"},on:{blur:function(a){return e.toEditInput(a,"timeAfter",t)}},model:{value:t.timeAfter,callback:function(a){e.$set(t,"timeAfter",a)},expression:"parent.timeAfter"}}),a("label",{staticClass:"inline-block middle label-unit"},[e._v("天")])],1)]:e._e(),e._v(" "),"tag002"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-radio",{attrs:{label:"in"},model:{value:t.computeRadio,callback:function(a){e.$set(t,"computeRadio",a)},expression:"parent.computeRadio"}},[e._v("属于")]),e._v(" "),a("el-radio",{attrs:{label:"notIn"},model:{value:t.computeRadio,callback:function(a){e.$set(t,"computeRadio",a)},expression:"parent.computeRadio"}},[e._v("不属于")])],1)]:e._e(),e._v(" "),"tag004"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("div",[a("el-radio",{attrs:{label:"1"},model:{value:t.fixedRecentRadio,callback:function(a){e.$set(t,"fixedRecentRadio",a)},expression:"parent.fixedRecentRadio"}},[e._v("固定时段")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.fixedRecentRadio,callback:function(a){e.$set(t,"fixedRecentRadio",a)},expression:"parent.fixedRecentRadio"}},[e._v("最近时段")])],1),e._v(" "),a("div",{staticClass:"m-t-18 w-500 h-80 fixed-date-picker border-box bg-f3f6f9"},[1==t.fixedRecentRadio?a("label",{staticClass:"inline-block middle label-unit m-r-8"},[e._v("时间范围")]):e._e(),1==t.fixedRecentRadio?a("el-date-picker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyyMMdd","value-format":"yyyyMMdd","default-time":["000000","235959"]},model:{value:t.fixedRecentRangeValue,callback:function(a){e.$set(t,"fixedRecentRangeValue",a)},expression:"parent.fixedRecentRangeValue"}}):e._e(),e._v(" "),2==t.fixedRecentRadio?a("div",[a("label",{staticClass:"inline-block middle label-unit m-r-8"},[e._v("最近")]),a("el-input",{staticClass:"w-90 m-r-8",attrs:{placeholder:"请输入"},on:{blur:function(a){return e.toEditInput(a,"fixedRecentTimeRecent",t)}},model:{value:t.fixedRecentTimeRecent,callback:function(a){e.$set(t,"fixedRecentTimeRecent",a)},expression:"parent.fixedRecentTimeRecent"}}),a("label",{staticClass:"inline-block middle label-unit"},[e._v("天")])],1):e._e()],1)])]:e._e(),e._v(" "),"tag007"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("div",[a("el-input",{staticClass:"w-184 m-r-8",attrs:{placeholder:"请输入"},model:{value:t.addInputValue,callback:function(a){e.$set(t,"addInputValue",a)},expression:"parent.addInputValue"}}),a("el-button",{staticClass:"middle",attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),e.addInputVal(t)}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"m-t-18 add-tags-wrap"},[e._l(t.addTags,function(l,i){return[a("span",{key:l.value+i,staticClass:"el-tag el-tag--small"},[e._v(e._s(l.value)),a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(a){e.delInputVal(i,t)}}})])]})],2)])]:e._e(),e._v(" "),"tag008"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("div",{staticClass:"add-search-select"},[a("el-select",{staticClass:"el-select--small",attrs:{size:"small",multiple:"",filterable:"",remote:"",placeholder:"请输入关键词","reserve-keyword":!1,"remote-method":e.remoteMethod},on:{focus:function(a){e.remoteMethodFocus(a,t,l)},change:function(a){e.changeRemoteMethod(a,t)}},model:{value:t.searchModel,callback:function(a){e.$set(t,"searchModel",a)},expression:"parent.searchModel"}},e._l(t.searchOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),a("el-button",{staticClass:"m-l-8 middle",attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),e.addSearchSelectVal(t)}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"m-t-18 add-tags-wrap"},[e._l(t.addSelectTags,function(l,i){return[a("span",{key:l.value+i,staticClass:"el-tag el-tag--small"},[e._v(e._s(l.value)),a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(a){e.delSearchSelectVal(i,t)}}})])]})],2)])]:e._e(),e._v(" "),"tag012"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-select",{staticClass:"w-98",attrs:{placeholder:"请选择"},model:{value:t.selectOne,callback:function(a){e.$set(t,"selectOne",a)},expression:"parent.selectOne"}},[a("el-option",{attrs:{label:"所有",value:"all"}}),e._v(" "),a("el-option",{attrs:{label:"存在其一",value:"in"}})],1),a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v(e._s(e.tagData.tagName))]),a("el-select",{staticClass:"w-98 m-l-8",attrs:{placeholder:"请选择"},model:{value:t.selectTwo,callback:function(a){e.$set(t,"selectTwo",a)},expression:"parent.selectTwo"}},[a("el-option",{attrs:{label:"属于",value:"in"}}),e._v(" "),a("el-option",{attrs:{label:"不属于",value:"notin"}})],1)],1)]:e._e(),e._v(" "),"tag011"==t.templateCode?a("div",[a("div",{staticClass:"m-b-20"},[a("vue-gic-store-new",{ref:"storeNew",refInFor:!0,attrs:{options:t.uuidOptions,uuid:t.uuid,isAdd:t.isAdd},on:{"update:uuid":function(a){e.$set(t,"uuid",a)}}})],1)]):e._e(),e._v(" "),"tag009"==t.templateCode?[a("div",{staticClass:"multiple-select-wrap m-b-20"},[a("div",{staticClass:"multiple-select-wrap__body"},[a("div",{staticClass:"multiple-select-wrap__tab"},[a("el-tabs",{model:{value:t.allSelectActive,callback:function(a){e.$set(t,"allSelectActive",a)},expression:"parent.allSelectActive"}},[a("el-tab-pane",{attrs:{label:"全部选项",name:"first"}},[a("div",{staticClass:"all-select-options"},[e._l(t.allSelectOptions,function(l,i){return[a("el-checkbox",{key:l.check+i,on:{change:function(a){e.allSelectChange(a,i,l,t)}},model:{value:l.check,callback:function(t){e.$set(l,"check",t)},expression:"item.check"}},[e._v(e._s(l.name))])]})],2)]),e._v(" "),a("el-tab-pane",{attrs:{label:"已选选项("+t.selectedOptions.length+")",name:"second"}},[a("div",{staticClass:"slected-opyions"},[e._l(t.selectedOptions,function(l,i){return[a("span",{key:l.name+i,staticClass:"el-tag el-tag--small"},[e._v(e._s(l.name)),a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(a){e.delallSelectVal(i,l,t)}}})])]})],2)])],1)],1)])])]:e._e(),e._v(" "),"tag010"==t.templateCode?[a("div",{staticClass:"multiple-select-wrap city-select-wrap m-b-20"},[a("div",{staticClass:"multiple-select-wrap__body"},[a("div",{staticClass:"multiple-select-wrap__tab"},[a("el-tabs",{model:{value:t.citySelectActive,callback:function(a){e.$set(t,"citySelectActive",a)},expression:"parent.citySelectActive"}},[a("el-tab-pane",{attrs:{label:"全部选项",name:"first"}},[a("div",{staticClass:"all-select-options all-select-options__city"},[a("div",{staticClass:"city-checkbox city-checkbox-all border-box"},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminateCity},on:{change:function(a){e.cityCheckAllChange(a,t)}},model:{value:t.checkAllCity,callback:function(a){e.$set(t,"checkAllCity",a)},expression:"parent.checkAllCity"}},[e._v("全选")])],1),e._v(" "),a("el-checkbox-group",{on:{change:function(a){e.citySelectChange(a,t)}},model:{value:t.checkeditemsCity,callback:function(a){e.$set(t,"checkeditemsCity",a)},expression:"parent.checkeditemsCity"}},[e._l(t.citySelectOptions,function(l,i){return[a("div",{key:l.provinceId+i,staticClass:"city-checkbox border-box border-t-e4e7ed"},[a("el-checkbox",{key:l.provinceId,attrs:{label:l.provinceId}},[e._v(e._s(""))]),a("label",{staticClass:"inline-block middle font-14 pointer city-name",on:{click:function(a){a.stopPropagation(),e.toggleCity(l.provinceId,l,t)}}},[e._v(e._s(l.provinceName))]),e._v(" "),l.showCity?a("div",{staticClass:"el-select-dropdown el-popper is-multiple",staticStyle:{"min-width":"240px",position:"absolute",top:"30px",left:"20px","transform-origin":"center top 0px","z-index":"2215"},attrs:{"x-placement":"bottom-start"}},[a("div",{staticClass:"el-scrollbar"},[a("div",{staticClass:"el-select-dropdown__wrap el-scrollbar__wrap",staticStyle:{"margin-right":"-17px"}},[a("ul",{staticClass:"el-scrollbar__view el-select-dropdown__list"},[e._l(l.children,function(i,n){return[a("li",{key:i.check+n,class:["el-select-dropdown__item","city-name",i.check?"selected":""],on:{click:function(a){a.stopPropagation(),e.toggleClickCity(i,l,t)}}},[a("span",{staticClass:"city-name"},[e._v(e._s(i.cityName))])])]})],2)]),e._v(" "),a("div",{staticClass:"el-scrollbar__bar is-horizontal"},[a("div",{staticClass:"el-scrollbar__thumb",staticStyle:{transform:"translateX(0%)"}})]),e._v(" "),a("div",{staticClass:"el-scrollbar__bar is-vertical"},[a("div",{staticClass:"el-scrollbar__thumb",staticStyle:{transform:"translateY(0%)"}})])]),e._v(" "),a("div",{staticClass:"popper__arrow",staticStyle:{left:"35px"},attrs:{"x-arrow":""}})]):e._e()],1)]})],2)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"已选选项("+t.citySelectedOptions.length+")",name:"second"}},[a("div",{staticClass:"slected-opyions city-slected-opyions"},[e._l(t.citySelectedOptions,function(l,i){return[a("span",{key:l.selected+i,staticClass:"el-tag el-tag--small"},[e._v(e._s(l.selected)),a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(a){e.delcitySelectVal(i,l,t)}}})])]})],2)])],1)],1)])])]:e._e(),e._v(" "),"tag013"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("div",{staticClass:"checkboxOption-wrap__body__checkAll border-box"},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(a){e.handleCheckAllChange(a,t)}},model:{value:t.checkAll,callback:function(a){e.$set(t,"checkAll",a)},expression:"parent.checkAll"}},[e._v("全选")])],1),e._v(" "),a("div",{staticClass:"checkboxOption-wrap__body__options border-box"},[a("el-checkbox-group",{on:{change:function(a){e.handleCheckedChange(a,t)}},model:{value:t.checkeditems,callback:function(a){e.$set(t,"checkeditems",a)},expression:"parent.checkeditems"}},e._l(t.options,function(t,l){return a("el-checkbox",{key:t.key+l,attrs:{label:t.key}},[e._v(e._s(t.value))])}))],1)])]:e._e(),e._v(" "),"tag015"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("固定时段")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("相对时段")]),e._v(" "),1==t.radio?a("div",{staticClass:"m-t-18 w-438 p-20 border-box bg-f3f6f9"},[a("vue-gic-datepicker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"MMdd","value-format":"MMdd"},model:{value:t.monthDayRange,callback:function(a){e.$set(t,"monthDayRange",a)},expression:"parent.monthDayRange"}})],1):e._e(),e._v(" "),1!=t.radio?a("div",{staticClass:"relative-range m-t-18 border-box"},[a("div",[a("div",[a("label",{staticClass:"inline-block w-98 label-unit"},[e._v("时间精度")]),e._v(" "),a("el-radio-group",{on:{change:function(a){e.timeRadioChange(a,t)}},model:{value:t.timeRadio,callback:function(a){e.$set(t,"timeRadio",a)},expression:"parent.timeRadio"}},[a("el-radio",{attrs:{label:"1"}},[e._v("天")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("月")])],1)],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(a){e.currentDayChange(a,t)}},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(" 当"+e._s(1==t.timeRadio?"天":"月"))])],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(e._s(""))]),e._v(" "),a("el-select",{staticClass:"w-86 m-l-8",attrs:{placeholder:"请选择"},model:{value:t.timeSelect,callback:function(a){e.$set(t,"timeSelect",a)},expression:"parent.timeSelect"}},[a("el-option",{attrs:{label:"最近",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"之后",value:"2"}})],1),e._v(" "),a("el-input",{staticClass:"w-90",attrs:{placeholder:"请输入",disabled:1==t.timeChecked},on:{blur:function(a){return e.toEditDateInput(a,t.timeRadio,t)}},model:{value:t.timeInput,callback:function(a){e.$set(t,"timeInput",a)},expression:"parent.timeInput"}}),e._v(" "),1==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("天")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大365")])]:e._e(),e._v(" "),2==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("月")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大12")])]:e._e()],2)])]):e._e()],1)]:e._e(),e._v(" "),"tag016"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-date-picker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyyMMdd","value-format":"yyyyMMdd","default-time":["000000","235959"]},model:{value:t.dateRangeValue,callback:function(a){e.$set(t,"dateRangeValue",a)},expression:"parent.dateRangeValue"}})],1)]:e._e(),e._v(" "),"tag019"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("固定时段")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("相对时段")]),e._v(" "),1==t.radio?a("div",{staticClass:"m-t-18 w-438 p-20 border-box bg-f3f6f9"},[a("el-date-picker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyyMMdd","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},model:{value:t.dateRangeValue,callback:function(a){e.$set(t,"dateRangeValue",a)},expression:"parent.dateRangeValue"}})],1):e._e(),e._v(" "),1!=t.radio?a("div",{staticClass:"relative-range m-t-18 border-box"},[a("div",[a("div",[a("label",{staticClass:"inline-block w-98 label-unit"},[e._v("时间精度")]),e._v(" "),a("el-radio-group",{on:{change:function(a){e.timeRadioChange(a,t)}},model:{value:t.timeRadio,callback:function(a){e.$set(t,"timeRadio",a)},expression:"parent.timeRadio"}},[a("el-radio",{attrs:{label:"1"}},[e._v("天")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("月")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("年")])],1)],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(a){e.currentDayChange(a,t)}},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(" 当"+e._s(1==t.timeRadio?"天":2==t.timeRadio?"月":"年"))])],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(e._s(""))]),e._v(" "),a("el-select",{staticClass:"w-86 m-l-8",attrs:{placeholder:"请选择"},model:{value:t.timeSelect,callback:function(a){e.$set(t,"timeSelect",a)},expression:"parent.timeSelect"}},[a("el-option",{attrs:{label:"最近",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"之后",value:"2"}})],1),e._v(" "),a("el-input",{staticClass:"w-90",attrs:{placeholder:"请输入",disabled:1==t.timeChecked},on:{blur:function(a){return e.toEditDateInput(a,t.timeRadio,t)}},model:{value:t.timeInput,callback:function(a){e.$set(t,"timeInput",a)},expression:"parent.timeInput"}}),e._v(" "),1==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("天")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大365")])]:e._e(),e._v(" "),2==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("月")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大12")])]:e._e(),e._v(" "),3==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("年")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大2")])]:e._e()],2)])]):e._e()],1)]:e._e(),e._v(" "),"tag017"==t.templateCode?[a("div",{staticClass:"m-b-20"},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("固定时段")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"parent.radio"}},[e._v("相对时段")]),e._v(" "),1==t.radio?a("div",{staticClass:"m-t-18 w-438 p-20 border-box bg-f3f6f9"},[a("el-date-picker",{attrs:{type:"daterange",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyyMMdd","value-format":"yyyyMMdd","default-time":["000000","235959"]},model:{value:t.dateRangeValue,callback:function(a){e.$set(t,"dateRangeValue",a)},expression:"parent.dateRangeValue"}})],1):e._e(),e._v(" "),1!=t.radio?a("div",{staticClass:"relative-range m-t-18 border-box"},[a("div",[a("div",[a("label",{staticClass:"inline-block w-98 label-unit"},[e._v("时间精度")]),e._v(" "),a("el-radio-group",{on:{change:function(a){e.timeRadioChange(a,t)}},model:{value:t.timeRadio,callback:function(a){e.$set(t,"timeRadio",a)},expression:"parent.timeRadio"}},[a("el-radio",{attrs:{label:"1"}},[e._v("天")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("月")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("年")])],1)],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(a){e.currentDayChange(a,t)}},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(" 当"+e._s(1==t.timeRadio?"天":2==t.timeRadio?"月":"年"))])],1),e._v(" "),a("div",{staticClass:"m-t-20"},[a("label",{staticClass:"inline-block w-98"}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.timeChecked,callback:function(a){e.$set(t,"timeChecked",a)},expression:"parent.timeChecked"}},[e._v(e._s(""))]),e._v(" "),a("el-select",{staticClass:"w-86 m-l-8",attrs:{placeholder:"请选择"},model:{value:t.timeSelect,callback:function(a){e.$set(t,"timeSelect",a)},expression:"parent.timeSelect"}},[a("el-option",{attrs:{label:"最近",value:"1"}})],1),e._v(" "),a("el-input",{staticClass:"w-90",attrs:{placeholder:"请输入",disabled:1==t.timeChecked},on:{blur:function(a){return e.toEditDateInput(a,t.timeRadio,t)}},model:{value:t.timeInput,callback:function(a){e.$set(t,"timeInput",a)},expression:"parent.timeInput"}}),e._v(" "),1==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("天")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大365")])]:e._e(),e._v(" "),2==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("月")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大12")])]:e._e(),e._v(" "),3==t.timeRadio?[a("label",{staticClass:"inline-block middle label-unit m-l-8"},[e._v("年")]),e._v(" "),a("label",{staticClass:"inline-block middle label-tip"},[e._v("正整数，最大2")])]:e._e()],2)])]):e._e()],1)]:e._e()],2)})],2)]),e._v(" "),a("div",{staticClass:"myTagDetail-wrap__btn"},[e.tagFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.addTemporary}},[e._v("\n          "+e._s(e.addTempFlag?"更新标签选项":"添加到暂存架")+"\n        ")]):e._e(),e._v(" "),e.tagFlag?e._e():a("el-button",{attrs:{type:"primary",disabled:!!e.addFlag},on:{click:e.addMytag}},[e._v("\n          "+e._s(e.addFlag?"已添加至我的标签库":"添加至我的标签库")+"\n        ")])],1)])]),e._v(" "),a("vue-gic-footer")],1)},staticRenderFns:[]};var R=a("VU/8")(D,x,!1,function(e){a("IGuy")},"data-v-c4b4721e",null);t.default=R.exports},qKUa:function(e,t){}});