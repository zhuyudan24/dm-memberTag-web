webpackJsonp([14],{"/8lq":function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var a=t("GXH0"),s={name:"links",props:["linkToolsVisible"],data:function(){return{twoLevelVisible:!0,threeLevelVisible:!0,linksType:"",linksTypeOptions:[{id:"1",value:"shoplink",label:"商城链接"},{id:"2",value:"memberlink",label:"会员功能链接"},{id:"3",value:"definelink",label:"自定义页面"},{id:"4",value:"h5link",label:"H5页面"},{id:"5",value:"otherlink",label:"其他小程序"}],twoLevelValue:"",twoLevelOptions:[{id:"1",value:"shoplink",label:"商城链接"}],threeLevelValue:"",threeLevelOptions:[{id:"1",value:"shoplink",label:"商城链接"}],h5linkVisible:!1,h5linkObj:{name:"",url:"",fixParam:"",dynamicPara:"",dynamicParaOptions:[]},activeName:"first",mylinkToolsVisible:this.linkToolsVisible,selectType:1,searchGoods:"",category:null,categoryOptions:[{key:"a",name:"a",subOptions:[{key:"aa",name:"aa"}]}],normalizer:function(e){return{id:e.key,label:e.name,children:e.subOptions}},goodsList:[{id:"111",name:"美商海盗船Gaming系列 K70 RGB Rapidfire",goodsNum:"errerr",src:"https://pic01-10001430.image.myqcloud.com/adb6387e-a3f4-4b7f-a7dd-1b7fe242f9f7",price:567},{id:"112",name:"美商海盗船Gaming系列 K70 RGB Rapidfire",goodsNum:"errerr",src:"https://pic01-10001430.image.myqcloud.com/adb6387e-a3f4-4b7f-a7dd-1b7fe242f9f7",price:567},{id:"113",name:"美商海盗船Gaming系列 K70 RGB Rapidfire",goodsNum:"errerr",src:"https://pic01-10001430.image.myqcloud.com/adb6387e-a3f4-4b7f-a7dd-1b7fe242f9f7",price:567},{id:"112",name:"美商海盗船Gaming系列 K70 RGB Rapidfire",goodsNum:"errerr",src:"https://pic01-10001430.image.myqcloud.com/adb6387e-a3f4-4b7f-a7dd-1b7fe242f9f7",price:567},{id:"113",name:"美商海盗船Gaming系列 K70 RGB Rapidfire",goodsNum:"errerr",src:"https://pic01-10001430.image.myqcloud.com/adb6387e-a3f4-4b7f-a7dd-1b7fe242f9f7",price:567}],currentPage:1,pageSize:20,total:0,classify:null,classifyOptions:[{key:"b",name:"b",subOptions:[{key:"bb",name:"bb"}]}],goodsCategory:null,goodsCategoryOptions:[{key:"a",name:"a",subOptions:[{key:"aa",name:"aa"},{key:"a1",name:"a1"},{key:"a2",name:"a2"}]}],mainFunctionPage:[{label:"一级 1",children:[{label:"二级 1-1",children:[{label:"三级 1-1-1"}]}]},{label:"一级 2",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]}],defaultMainPageProps:{children:"children",label:"label"},definePageList:[{id:"111",name:"测试1",src:""},{id:"112",name:"测试2",src:""},{id:"113",name:"测试3",src:""},{id:"114",name:"测试4",src:""},{id:"115",name:"测试5",src:""},{id:"116",name:"测试6",src:""},{id:"117",name:"测试7",src:""},{id:"118",name:"测试8",src:""},{id:"119",name:"测试9",src:""}]}},methods:{linksTypeChange:function(e){},twoLevelValueChange:function(e){},threeLevelValueChange:function(e){},cancelLinkSelect:function(){var e=this;e.$confirm("确认关闭?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:""}).then(function(){console.log("点起确认"),e.$emit("linkSelect")}).catch(function(){console.log("取消 取消关闭")})},confirmLinkSelect:function(){console.log(this.linksType,this.twoLevelValue,this.threeLevelValue),this.$emit("linkSelect")},handleClick:function(e,l){console.log(e,l);switch(this.activeName){case"first":this.selectType=1;break;case"second":this.selectType=2;break;case"third":case"fourth":this.selectType=3}console.log(this.selectType)},categorySelect:function(e,l){console.log(e,l),this.getGoodsList()},classifySelect:function(e,l){console.log(e,l),this.getGoodsList()},goodsCategorySelect:function(e,l){console.log(e,l),this.selectLinkItem()},handleClose:function(e){var l=this,t=this;t.$confirm("确认关闭？").then(function(a){e(),t.mylinkToolsVisible=!1,console.log(l.mylinkToolsVisible),t.$emit("linkSelect")}).catch(function(e){})},linkSizeChange:function(e){console.log("每页 "+e+" 条",this.pageSize),this.pageSize=e},linkCurrentChange:function(e){console.log("当前页: "+e,this.currentPage),this.currentPage=e},selectLinkItem:function(e){var l=this;console.log(e);var t=null;switch(this.selectType){case 1:t="商品";break;case 2:t="分类";break;case 3:case 4:t="页面"}console.log(this.selectType,t),this.$confirm("确认选择"+t,"",{confirmButtonText:"确定",cancelButtonText:"取消",type:""}).then(function(){l.$message({type:"success",message:"确定"})}).catch(function(){})},toSearchInput:function(e){console.log(this.searchGoods,e),1==this.currentPage?this.getGoodsList():this.currentPage=1},clearInput:function(e){console.log(e,this.searchGoods),1==this.currentPage?this.getGoodsList():this.currentPage=1},getGoodsList:function(){},mainPageNodeClick:function(e){console.log(e),this.selectLinkItem()},definePageClick:function(e){console.log(e),this.selectLinkItem()}},watch:{linkToolsVisible:function(e){console.log(e),this.mylinkToolsVisible=e}},mounted:function(){console.log("00000")},components:{Treeselect:t.n(a).a}},i={render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"link-tools-contain"},[t("el-dialog",{class:"first"==e.activeName?"min-1051":"min-720",attrs:{title:"链接小工具",visible:e.mylinkToolsVisible,"before-close":e.handleClose},on:{"update:visible":function(l){e.mylinkToolsVisible=l}}},[t("div",{staticClass:"links-types"},[t("label",{staticClass:"types-title"},[e._v("链接类型:")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.linksTypeChange},model:{value:e.linksType,callback:function(l){e.linksType=l},expression:"linksType"}},e._l(e.linksTypeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),e.twoLevelVisible?t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.twoLevelValueChange},model:{value:e.twoLevelValue,callback:function(l){e.twoLevelValue=l},expression:"twoLevelValue"}},e._l(e.twoLevelOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),e.threeLevelVisible?t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.threeLevelValueChange},model:{value:e.threeLevelValue,callback:function(l){e.threeLevelValue=l},expression:"threeLevelValue"}},e._l(e.threeLevelOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),t("div",{staticClass:"goods-category"},[t("treeselect",{attrs:{options:e.goodsCategoryOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有品类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.goodsCategorySelect},model:{value:e.goodsCategory,callback:function(l){e.goodsCategory=l},expression:"goodsCategory"}})],1)],1),e._v(" "),e.h5linkVisible?t("div",{staticClass:"h5link-contain"},[t("div",{staticClass:"h5link-row"},[t("label",{staticClass:"h5link-title"},[e._v("名字:")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入网址"},model:{value:e.h5linkObj.name,callback:function(l){e.$set(e.h5linkObj,"name",l)},expression:"h5linkObj.name"}})],1),e._v(" "),t("div",{staticClass:"h5link-row"},[t("label",{staticClass:"h5link-title"},[e._v("网址:")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入网址"},model:{value:e.h5linkObj.url,callback:function(l){e.$set(e.h5linkObj,"url",l)},expression:"h5linkObj.url"}})],1),e._v(" "),t("div",{staticClass:"h5link-row"},[t("label",{staticClass:"h5link-title"},[e._v("固定参数:")]),e._v(" "),t("el-input",{attrs:{type:"textarea",resize:"none",rows:4,placeholder:"请输入固定参数(可选)"},model:{value:e.h5linkObj.fixParam,callback:function(l){e.$set(e.h5linkObj,"fixParam",l)},expression:"h5linkObj.fixParam"}})],1),e._v(" "),t("div",{staticClass:"h5link-row"},[t("label",{staticClass:"h5link-title"},[e._v("动态参数:")]),e._v(" "),t("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.h5linkObj.dynamicPara,callback:function(l){e.$set(e.h5linkObj,"dynamicPara",l)},expression:"h5linkObj.dynamicPara"}},e._l(e.dynamicParaOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]):e._e(),e._v(" "),t("div",{staticClass:"goods-links-contian"},[t("div",{staticClass:"links-tools-row"},[t("treeselect",{attrs:{value:e.category,options:e.categoryOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有品类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.categorySelect}}),e._v(" "),t("treeselect",{attrs:{options:e.classifyOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有分类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.classifySelect},model:{value:e.classify,callback:function(l){e.classify=l},expression:"classify"}}),e._v(" "),t("el-input",{staticClass:"links-tools-input",attrs:{placeholder:"请输入商品名称/货号",clearable:""},on:{clear:e.clearInput},nativeOn:{keyup:function(l){var t;t=l,e.toSearchInput(t)}},model:{value:e.searchGoods,callback:function(l){e.searchGoods=l},expression:"searchGoods"}},[t("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),t("div",{staticClass:"goods-link-content"},[t("ul",{staticClass:"goods-link-list"},e._l(e.goodsList,function(l,a){return t("li",{key:l.name+a,staticClass:"goods-link-item",on:{click:function(t){e.selectLinkItem(l)}}},[t("img",{attrs:{src:l.src,alt:"商品图片"}}),e._v(" "),t("div",{staticClass:"inline-block goods-message"},[t("p",{staticClass:"limit-2"},[e._v(e._s(l.name))]),e._v(" "),t("p",{staticClass:"gray-color"},[e._v("货号："+e._s(l.goodsNum))]),e._v(" "),t("span",[e._v("￥"+e._s(l.price))])])])}))]),e._v(" "),t("div",{staticClass:"links-tools-page"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.linkSizeChange,"current-change":e.linkCurrentChange}})],1)]),e._v(" "),t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(l){e.activeName=l},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"商品链接",name:"first"}},[t("div",{staticClass:"links-tools-row"},[t("treeselect",{attrs:{value:e.category,options:e.categoryOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有品类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.categorySelect}}),e._v(" "),t("treeselect",{attrs:{options:e.classifyOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有分类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.classifySelect},model:{value:e.classify,callback:function(l){e.classify=l},expression:"classify"}}),e._v(" "),t("el-input",{staticClass:"links-tools-input",attrs:{placeholder:"请输入商品名称/货号",clearable:""},on:{clear:e.clearInput},nativeOn:{keyup:function(l){var t;t=l,e.toSearchInput(t)}},model:{value:e.searchGoods,callback:function(l){e.searchGoods=l},expression:"searchGoods"}},[t("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),t("div",{staticClass:"goods-link-content"},[t("ul",{staticClass:"goods-link-list"},e._l(e.goodsList,function(l,a){return t("li",{key:l.name+a,staticClass:"goods-link-item",on:{click:function(t){e.selectLinkItem(l)}}},[t("img",{attrs:{src:l.src,alt:"商品图片"}}),e._v(" "),t("div",{staticClass:"inline-block goods-message"},[t("p",{staticClass:"limit-2"},[e._v(e._s(l.name))]),e._v(" "),t("p",{staticClass:"gray-color"},[e._v("货号："+e._s(l.goodsNum))]),e._v(" "),t("span",[e._v("￥"+e._s(l.price))])])])}))]),e._v(" "),t("div",{staticClass:"links-tools-page"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.linkSizeChange,"current-change":e.linkCurrentChange}})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"商品分类链接",name:"second"}},[t("div",{staticClass:"goods-category"},[t("treeselect",{attrs:{options:e.goodsCategoryOptions,normalizer:e.normalizer,"default-expand-level":1,placeholder:"所有品类",noOptionsText:"暂无数据",noResultsText:"无数据"},on:{select:e.goodsCategorySelect},model:{value:e.goodsCategory,callback:function(l){e.goodsCategory=l},expression:"goodsCategory"}})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"主功能页面链接",name:"third"}},[t("div",{staticClass:"main-function-page"},[t("el-tree",{attrs:{data:e.mainFunctionPage,"expand-on-click-node":!1,props:e.defaultMainPageProps},on:{"node-click":e.mainPageNodeClick}})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"自定义页面链接",name:"fourth"}},[t("div",{staticClass:"definepage"},[t("ul",{staticClass:"definepage-ul"},e._l(e.definePageList,function(l,a){return t("li",{key:l.name+a,staticClass:"definepage-ul-li",on:{click:function(t){e.definePageClick(l)}}},[e._v("\n              "+e._s(l.name)+"\n            ")])}))])])],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelLinkSelect}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmLinkSelect}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var n=t("VU/8")(s,i,!1,function(e){t("l+AN")},"data-v-d9a3d102",null);l.default=n.exports},"l+AN":function(e,l){}});